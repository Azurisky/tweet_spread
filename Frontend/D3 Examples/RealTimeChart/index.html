<!DOCTYPE HTML>
<html>
<head>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script type="text/javascript">
	function getpiechart(){
		var datapoints=  [{y: 50, label: "POS"}, {y: 40, label: "NEG"}, {y: 10, label: "NEU"}]		
		var chart = new CanvasJS.Chart("chartContainer", {
			//animationEnabled: true,
			/*title: {
				text: "Sentiment Analysis"
			},*/
			data: [{
				type: "pie",
				startAngle: 240,
				yValueFormatString: "##0.00\"%\"",
				indexLabel: "{label} {y}",
				dataPoints: datapoints
			}]
		});
		chart.render();
		var updateCount = 0;
		var sentiments = ["POS", "NEG", "NEU"];

		var updateChart = function () {
		datapoints = []
		
      	updateCount++;
		for(var i=0; i<3; i++){
			yVal = Math.round(5 + Math.random());
			xVal = i;
			datapoints.push({y:yVal, x: sentiments[xVal]});
		}
		console.log(datapoints);      	
        

        chart = new CanvasJS.Chart("chartContainer", {
        	data: [{
        		type: "pie",
        		startAngle:240,
        		yValueFormatString: "##0.00\"%\"",
        		indexLabel: "{label} {y}",
        		dataPoints: datapoints
        	}]
        });		
		chart.render();		
		
	};
	// update chart every second
	setInterval(function(){updateChart()}, 2000);
	}	
	

</script>
<div id = "chartContainer" style = "height: 300px; width: 100%;" /></div>
<script type="text/javascript">getpiechart();</script>

<script type="text/javascript">
	function load_milestones() {
	var dps = [
				{ x: new Date(2017, 0, 3), y: 450 },
				{ x: new Date(2017, 0, 4), y: 414},
				{ x: new Date(2017, 0, 5), y: 520, indexLabel: "highest",markerColor: "red", markerType: "triangle" },
				{ x: new Date(2017, 0, 6), y: 460 },
				{ x: new Date(2017, 0, 7), y: 450 },
				{ x: new Date(2017, 0, 8), y: 500 },
				{ x: new Date(2017, 0, 9), y: 480 },
				{ x: new Date(2017, 0, 10), y: 480 },
				{ x: new Date(2017, 0, 11), y: 410 , indexLabel: "lowest",markerColor: "DarkSlateGrey", markerType: "cross" },
				{ x: new Date(2017, 0, 12), y: 500 },
				{ x: new Date(2017, 0, 13), y: 480 },
				{ x: new Date(2017, 0, 14), y: 510 }
			];

	var chart = new CanvasJS.Chart("chartContainer2", {
		animationEnabled: true,
		theme: "light2",
		title:{
			text: "MileStones"
		},
		axisY:{
			includeZero: false
		},
		data: [{        
			type: "line",       
			dataPoints: dps
		}]
	});
	chart.render();

	

	var dataLength = 20;
	var updateInterval = 1000;
	var days = 15;
	var months = 0

	var updateChart = function() {		
		days = days + 1;
		if(days == 31){
			months += 1
		}
		var yVal = Math.round(Math.random()*100);
		dps.push({x: new Date(2017,months,days), y: yVal});
		if(dps.length > dataLength){
			dps.shift();
		}
		chart.render();
	};

	setInterval(function(){updateChart()}, updateInterval);	
}

</script>
<div id = "chartContainer2" style = "height: 300px; width: 100%;" /></div>
<script type="text/javascript">load_milestones();</script>


</body>
</html>